<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="style.css">
<link rel="stylesheet" type="text/css" href="dbSetup_style.css">


<script src="jquery-1.7.1.min.js"></script>
<script>
/////////////////////////////////////////////////////////////////////
//  ENTER THE NAME OF THE DATABASE                           ////////
/////////////////////////////////////////////////////////////////////
var dbName = "adv RPM";
/////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////

if (!window.openDatabase) {
	alert('Databases are not supported in this browser.');  
}
else{
	var shortDbName = dbName.replace(/\s/g, "");
	var version = '1.0';    
	var maxSize = 20000000; //  bytes  
	var db = openDatabase(shortDbName, version, dbName, maxSize);
}

</script>

<script>
//////////////////////////////////////////////////////////////////////////
/////////     List of  Tables:                                      //////
/////////     to add a table to the database, enter the name of     //////
/////////     the databse here, then go to the bottom of the file:  //////
/////////     to add an array with the fields of the table          //////
//////////////////////////////////////////////////////////////////////////
var ListTablesArr = ['SymbolList', 'SampleList', 'ProjectList', 'ModSubstrate', 'ModSL', 'ModML', 'ModStepper', 'ModEbeamWrite', 'ModRIE', 'ModMaskAlign', 'ModVSM', 'ModSQUID', 'ModMOKE', 'ModAFM', 'ModIonMill', 'ModMFM', 'ModAlfaStep', 'ModSpinCoat', 'ModTransport', 'ModAnnealing', 'SampleLifeLine', 'Lab', 'Person', 'ToolList', 'ProviderList'];

//////////////////////////////////////////////////////////////////////////
////        BEGIN JQUERY FUNCTIONS/COMMANDS                         //////
//////////////////////////////////////////////////////////////////////////
$(document).ready(function(){
////  Display list of all tables in div id=container_TablesList on load  //
	function showListTables(){
		for(var i = 0; i < ListTablesArr.length; i++){
			var TbleName = ListTablesArr[i];
			inputTble = '<table width="300px" cellspacing="0px" cellpadding="0px" border="1px"><tr><td width="170px"><input type="checkbox" name="" value="'+i+'" id="'+TbleName+'">'+TbleName+'</td><td width="130px"><div id="StatusTableExist_'+i+'"  class="active_off">active</div> <div id="StatusTableMissing_'+i+'" class="missing_on">missing</div></td></tr></table><br>';
			$("#container_TablesList").append(inputTble);	
		}
	}
	showListTables();
/////  Select all Tables on click 'select All Tables' button   //////////////////////
	$("#container_TablesList").delegate("#selectAllTables", "click", function(){
		for(var i = 0; i < ListTablesArr.length; i++){
			var TbleName = ListTablesArr[i];
			$("#"+TbleName).attr("checked", true);
		}
	});
/////  create Tables on click 'select All Tables' button   ///////////////////////////
	$("#container_TablesList").delegate("#createTable", "click", function(){
		var selectedTables = new Array();
		//Create a fade black background
	$("#container").append('<div style="background: #000000; position: fixed; left: 0; top: 0; width: 100%; height: 100%; opacity: .30; z-index: 400; display: block;" id="fade1"></div><div style="display: block; z-index:420; position:fixed; top:40%; left:40%; border:0px solid #000000; height:138px; width:138px; border: 0em solid #CCCCCC; margin-top : 10px; margin-left :10px;" id="wait1"><p id="spinner"></p></div>');
		for(var i = 0; i < ListTablesArr.length; i++){ //create an array of table to create (checked box)
			var tbleName = ListTablesArr[i];
			if($('#'+tbleName).is(':checked')){
				selectedTables.push(i);
			}
		}
		for(var j = 0; j < selectedTables.length; j++){ // Create table
			var tableIndex = selectedTables[j];
			createTable(tableIndex);
		}
	});
	
/////  Drop Table upon click on button (list all checkedbox true) 
	$("#container_TablesList").delegate("#dropTable", "click", function(){
		var selectedTables = new Array();
		//Create a fade black background
	$("#container").append('<div style="background: #000000; position: fixed; left: 0; top: 0; width: 100%; height: 100%; opacity: .30; z-index: 400; display: block;" id="fade"></div><div style="display: block; z-index:420; position:fixed; top:40%; left:40%; border:0px solid #000000; height:138px; width:138px; border: 0em solid #CCCCCC; margin-top : 10px; margin-left :10px;" id="wait"><p id="spinner"></p></div>');
		for(var i = 0; i < ListTablesArr.length; i++){  // Get the list of the index of tables to drop
			var tbleName = ListTablesArr[i];
			if($('#'+tbleName).is(':checked')){
				selectedTables.push(i);
			}
		}
		for(var j = 0; j < selectedTables.length; j++){
			var tableIndex = selectedTables[j];
			dropTable(tableIndex);
			if(j == selectedTables.length - 1){
			}
		}
	})
////////////////////////////////////////////////////////////////////
/////  Select all Triggers on click       //////////////////////////
////////////////////////////////////////////////////////////////////
	$("#container_TriggersList").delegate("#selectAllTriggers", "click", function(){
		for(var i = 0; i < ListTablesArr.length; i++){
			var table = ListTablesArr[i];
			var IsItAMod = table.indexOf('Mod'); //this gives the index of the first character of Mod in the Tbale file Name
			if(IsItAMod == 0){ //this table is a module
				$("#triggerNewLevel"+table).attr("checked", true);  //Trigger -: new level added to the sampleLifeLine of sample, automatically insert new row into the appropriate moduletable
			}
		}
		//More triggers
		$("#ProjectActivateTrigger").attr("checked", true);
	});
/////   Create Trigger on click
	$("#container_TriggersList").delegate("#createTrigger", "click", function(){
		$("#container").append('<div style="background: #000000; position: fixed; left: 0; top: 0; width: 100%; height: 100%; opacity: .30; z-index: 400; display: block;" id="fade3"></div><div style="display: block; z-index:420; position:fixed; top:40%; left:40%; border:0px solid #000000; height:138px; width:138px; border: 0em solid #CCCCCC; margin-top : 10px; margin-left :10px;" id="wait3"><p id="spinner"></p></div>');
		var selectedTriggers = new Array();
		for(var i = 0; i < ListTablesArr.length; i++){ //create an array of trigger to create (checked box)
			var tbleName = ListTablesArr[i];
			if($('#triggerNewLevel'+tbleName).is(':checked')){
			selectedTriggers.push(i);
			}
		}
		for(var j = 0; j < selectedTriggers.length; j++){ // Now Create trigger
			var tableIndex = selectedTriggers[j];
			SQLModCreateTrigger(tableIndex, "newLevel");
		}
		//Create trigger ProjectUpdate
		if($("#ProjectActivateTrigger").is(':checked')){
			SQLProjectActivateCreateTrigger();
			}
	});
//Drop Trigger upon click on button (list all checkedbox true) 
	$("#container_TriggersList").delegate("#dropTrigger", "click", function(){
		var selectedTriggers = new Array();
		$("#container").append('<div style="background: #000000; position: fixed; left: 0; top: 0; width: 100%; height: 100%; opacity: .30; z-index: 400; display: block;" id="fade4"></div><div style="display: block; z-index:420; position:fixed; top:40%; left:40%; border:0px solid #000000; height:138px; width:138px; border: 0em solid #CCCCCC; margin-top : 10px; margin-left :10px;" id="wait4"><p id="spinner"></p></div>');
		for(var i = 0; i < ListTablesArr.length; i++){ //create an array of trigger to drop (checked box)
			var tbleName = ListTablesArr[i];
			if($('#triggerNewLevel'+tbleName).is(':checked')){
				selectedTriggers.push(i);
			}
		}
		for(var j = 0; j < selectedTriggers.length; j++){  // Now Drop trigger
			var tableIndex = selectedTriggers[j];
			SQLModDropTrigger(tableIndex);
		}
		//Create trigger ProjectUpdate
		if($("#ProjectActivateTrigger").is(':checked')){
			SQLProjectActivateDropTrigger();
			}
	});
	
});	
//////////////////////////////////////////////////////////////////////////
////        END JQUERY FUNCTIONS/COMMANDS                           //////
//////////////////////////////////////////////////////////////////////////

//Create the Sql query to create Table;
function createTable(TbleIndex){
	db.transaction(function(tx) {
		var TbleName = ListTablesArr[TbleIndex];
		var TbleNameArr = eval(TbleName);
		var createTableSQL = 'CREATE TABLE IF NOT EXISTS '+ListTablesArr[TbleIndex]+' (';
		for(var j = 0; j < TbleNameArr.length; j++){
			if(j != 0){ 
				var eltX = eval(TbleNameArr)[j][0];
				eltX = String(eltX);
				var eltY = eval(TbleNameArr)[j][1];
				eltY = String(eltY);
				createTableSQL += ', '+eltX+' '+eltY;
			}
			else{
				var eltX = eval(TbleNameArr)[j][0];
				eltX = String(eltX);
				var eltY = eval(TbleNameArr)[j][1];
				eltY = String(eltY);
				createTableSQL += eltX+' '+eltY;
			}
		}
		createTableSQL += ')';
		createTableSQL = String(createTableSQL);
		tx.executeSql(createTableSQL, [], function(tx,result){
		tbleListInDB();
		}, onError);
//The transaction has a function, executeSql. This function takes four arguments, a string denoting //the query, an array of strings to insert in place of question marks in the query (much like Javas //prepared statement), a function to execute on success and a function to complete on failure.	
	});
}

//Create the Sql query to drop Table: DROP TABLE ModStepper
function dropTable(TbleIndex){
		var TbleName = ListTablesArr[TbleIndex];
		var dropTableSQL ='DROP TABLE '+TbleName;
		db.transaction(function(tx) {
			tx.executeSql(dropTableSQL, [], function(tx, result){
				tbleListInDB();
			}, onError);
		});
}
// Tag the tables with red missing or green exists
function tbleListInDB(){
	var dataset;
	var item;
	var tablesInDB = "SELECT name FROM sqlite_master WHERE type='table'";
	db.transaction(function(tx) {
		tx.executeSql(tablesInDB, [], function(tx, result){
			var tbleInDBArr = new Array();
			dataset = result.rows;
			for (var i = 0, item = null; i < dataset.length; i++) {
				item = dataset.item(i);
				var tableDB = item['name']; //Table name already created in the db
				tbleInDBArr.push(tableDB); // list of tables in the database
			}
			for(var j = 0; j < ListTablesArr.length; j++){
				tableName = ListTablesArr[j];
				var indexListTablesArr = $.inArray(tableName, tbleInDBArr); //index of the db table in the list of tables
				if(tableName != "sqlite_sequence" && tableName != "__WebKitDatabaseInfoTable__"){
					if(indexListTablesArr != -1){ // This table is in the db
						$("#StatusTableExist_"+j).attr("class","active_on");
						$("#StatusTableMissing_"+j).attr("class","missing_off");
						$("div").remove("#fade1");
						$("div").remove("#wait1");
					}
					else{
						$("#StatusTableExist_"+j).attr("class","active_off");
						$("#StatusTableMissing_"+j).attr("class","missing_on");
						$("div").remove("#fade");
						$("div").remove("#wait");
					}
				}
			}
		}, onError);
	});
	unCheckedAllTbles();
}
function unCheckedAllTbles(){
	for(var i = 0; i < ListTablesArr.length; i++){
		var TbleName = ListTablesArr[i];
		$("#"+TbleName).attr("checked", false);
	}
}
////////////////////////////////////////////////
//////////       Triggers              /////////
////////////////////////////////////////////////
//Create the Sql query to create Triggers; 
//when a new row is added to a module table, a new row is inserted in sampleLifeLine
function SQLModCreateTrigger(TbleIndex){
	db.transaction(function(tx) {
		//Build an array that contains all Mod tables name
			var table =  ListTablesArr[TbleIndex]; //Name of the table
			var IsItAMod = table.indexOf('Mod');
			if(IsItAMod == 0){ //this table is a module
				var triggerName = 'trigger'+table; //name of the trigger
				var createSQLTrigger = 'CREATE TRIGGER '+triggerName+' AFTER INSERT ON '+table+' BEGIN INSERT INTO SampleLifeLine (idSample, ModTble, idMod, ModLevel, delStatus) VALUES (new.idSample, "'+table+'", new.id, new.ModLevel, \'0\'); END';
				createSQLTrigger = String(createSQLTrigger); //convert the SQL command to a string
				tx.executeSql(createSQLTrigger, [], function(tx, result){
					triggersListInDB();
				}, onError);
			}
	});
}

//when a sample is updated and its archiveStatus sets to 0, update idProject archiveStatus to 0. This is to insure that when at least one sample of a 'archive Project' (archiveStatus = 1) is activate, the project is automatically activated.
function SQLProjectActivateCreateTrigger(){
	db.transaction(function(tx) {
		var createSQLTrigger = 'CREATE TRIGGER ProjectActivateTrigger AFTER UPDATE ON SampleList WHEN new.archiveStatus != old.archiveStatus AND new.archiveStatus == 0 BEGIN UPDATE ProjectList SET archiveStatus = 0 WHERE ProjectList.id = new.idProject; END';
				createSQLTrigger = String(createSQLTrigger); //convert the SQL command to a string
				tx.executeSql(createSQLTrigger, [], function(tx, result){
					triggersListInDB();
				}, onError);
			});
}


function triggersListInDB(){
	var dataset;
	var item;
	var triggersInDB = "SELECT name FROM sqlite_master WHERE type='trigger'";
	db.transaction(function(tx) {
		tx.executeSql(triggersInDB, [], function(tx, result){
			var triggersInDBArr = new Array();
			dataset = result.rows;
			for (var i = 0, item = null; i < dataset.length; i++) {
				item = dataset.item(i);
				var triggerDB = item['name']; //Table name already created in the db
				triggersInDBArr.push(triggerDB); // list of tables in the database
			}
			for(var j = 0; j < ListTablesArr.length; j++){
				triggerName = 'trigger'+ListTablesArr[j];
				var indexListTriggersArr = $.inArray(triggerName, triggersInDBArr); //index of the db table in the list of tables
					if(indexListTriggersArr != -1){ // This trigger is in the db
						$("#StatusTriggerExist_"+j).attr("class","active_on");
						$("#StatusTriggerMissing_"+j).attr("class","missing_off");
						$("div").remove("#fade3");
						$("div").remove("#wait3");
					}
					else{
						$("#StatusTriggerExist_"+j).attr("class","active_off");
						$("#StatusTriggerMissing_"+j).attr("class","missing_on");
						$("div").remove("#fade4");
						$("div").remove("#wait4");
					}
			}
			// check if the trigger ProjectActivateTrigger (PAT)
			var PATIndex = $.inArray("ProjectActivateTrigger", triggersInDBArr);
				if(PATIndex != -1){ // This trigger is in the db
						$("#StatusTriggerExist_A").attr("class","active_on");
						$("#StatusTriggerMissing_A").attr("class","missing_off");
						$("div").remove("#fade3");
						$("div").remove("#wait3");
					}
					else{
						$("#StatusTriggerExist_A").attr("class","active_off");
						$("#StatusTriggerMissing_A").attr("class","missing_on");
						$("div").remove("#fade4");
						$("div").remove("#wait4");
					}
		}, onError);
	});
	unCheckedAllTriggers();
}

//Drop Triggers
function SQLModDropTrigger(TbleIndex){
	var table =  ListTablesArr[TbleIndex]; //Name of the table
	var IsItAMod = table.indexOf('Mod');
	if(IsItAMod == 0){ //this table is a module
		var triggerName = 'trigger'+table; //name of the trigger
		db.transaction(function(tx) {
			var dropSQLTrigger = 'DROP TRIGGER '+triggerName;
				dropSQLTrigger = String(dropSQLTrigger); //convert the SQL command to a string
				tx.executeSql(dropSQLTrigger, [], function(tx, result){
					triggersListInDB()
				}, onError);
			});
	}
}

//////////////////////////////////////////////////////////////////////
//  DROP TRIGGER ProjectActivateTrigger  /////////////////////////////
//////////////////////////////////////////////////////////////////////
function SQLProjectActivateDropTrigger(){
	db.transaction(function(tx) {
		var dropSQLTrigger = 'DROP TRIGGER ProjectActivateTrigger ';
				cdropSQLTrigger = String(dropSQLTrigger); //convert the SQL command to a string
				tx.executeSql(dropSQLTrigger, [], function(tx, result){
					triggersListInDB();
				}, onError);
			});
}

function showListTriggers(){
	var container_TriggersList = document.getElementById("container_TriggersList");
	for(var i = 0; i < ListTablesArr.length; i++){
		var TbleName = ListTablesArr[i];
		var IsItAMod = TbleName.indexOf("Mod");
			if(IsItAMod == 0){ //this table is a module
		var inputTble = '<table width="300px" cellspacing="0px" cellpadding="0px" border="1px"><tr><td width="170px"><input type="checkbox" name="" value="'+i+'" id="trigger'+TbleName+'">trigger'+TbleName+'</td><td width="130px"><div id="StatusTriggerExist_'+i+'" class="active_off">active</div> <div id="StatusTriggerMissing_'+i+'" class="missing_on">missing</div></td></tr></table><br>';
		container_TriggersList.innerHTML += inputTble;
			}
	}
	//Show Other Triggers
	var inputTble = '<table width="300px" cellspacing="0px" cellpadding="0px" border="1px"><tr><td width="170px"><input type="checkbox" name="" value="A" id="ProjectActivateTrigger">trigger ProjectList</td><td width="130px"><div id="StatusTriggerExist_A" class="active_off">active</div> <div id="StatusTriggerMissing_A" class="missing_on">missing</div></td></tr></table><br>';
		container_TriggersList.innerHTML += inputTble;
}

function unCheckedAllTriggers(){
	for(var i = 0; i < ListTablesArr.length; i++){
		var TbleName = ListTablesArr[i];
		var IsItAMod = TbleName.indexOf("Mod");
		if(IsItAMod == 0){ //this table is a module
			var triggerName = 'trigger'+TbleName;
			$("#"+triggerName).attr("checked", false);
		}
		$("#"+triggerName).attr("checked", false);
	}
	$("#ProjectActivateTrigger").attr("checked", false);
}

function gotoWeb(){
	var answer = confirm("You are going to go online to the official webpage of Research Project Manager");
	if (answer){
		window.location = "http://www.jmbeaujour.com/rpmAdv";
	}
}

function gotoHelp(){
	var answer = confirm("You are going to go online to the official webpage of Research Project Manager");
	if (answer){
		window.location = "http://www.jmbeaujour.com/rpmAdv/help.php";
	}
}

</script>
</head>
<title>Research Project Manager Advanced</title>
  <body onLoad="tbleListInDB(); triggersListInDB();" bgcolor="#8BA3b7">  
<div style="position:absolute; top: 5px; left:20px; z-index:400">
	<img src="images/test1.png" width="100px" height="79px">
</div>
<div style="position:relative; padding-top:20px; padding-left: 30px; font-family: Tahoma,Verdana,Arial; color : #000000;
font-size: 12px; color: #000000; text-decoration: none; margin-bottom: 3px;"><table width="890px" border="0px" cellspacing="0px" cellpadding="0px"><tr height="40px" valign="middle" align="left"><td style="padding-left:80px; width:50%"><font color="white" size="5px" style="font-family:Arial"><b>Research Project Manager</b></font><br><font color="black" size="2px" style="font-family:Arial;"><i>organize and keep track of your research data!</i></font></td><td valign="bottom" width="50%" align="right"><a href="db_setup.html" style="text-decoration: none; color:#D6D6D6; font-weight: normal;">settings</a> | <a href="#" onClick="gotoWeb();"style="text-decoration: none; color:#000000; font-weight: normal;"  onMouseOver="this.style.color='#D6D6D6'" onMouseOut="this.style.color='#000000'">help</a> | <a href="#" onClick="gotoWebSite();" style="text-decoration: none; color:#000000; font-weight: normal;" onMouseOver="this.style.color='#D6D6D6'" onMouseOut="this.style.color='#000000'">web site</a></td></tr></table></div><div style="width:930px; border-top:4px solid #FFFFFF;border-bottom:0px solid #FFFFFF; border-left:4px solid #FFFFFF; border-right:4px solid #FFFFFF; -moz-border-top-left-radius: 10px 10px; -moz-border-bottom-left-radius: 0px 0px; -moz-border-bottom-right-radius: 0px 0px; -moz-border-top-right-radius: 10px 10px; border-top-left-radius: 10px 10px; border-bottom-left-radius: 0px 0px; border-bottom-right-radius: 0px 0px; border-top-right-radius: 10px 10px; background-color:#4B6C88; padding-left:20px; padding-right:10px; height:50px"><table align="right" border="0px" valign="bottom" style="margin-top:12px; margin-bottom:0px; "><tr><td width="90px" align="center" class="menutitle"><div style="width:80px;" class="menuTitleDiv"><a href="samples.html" alt="List Of Samples" title="List Of Samples">Samples</a></div></td><td width="90px" align="center" class="menutitle"><div style="width:80px;" class="menuTitleDiv"><a href="projects.html" alt="List Of Projects" title="List Of Projects">Projects</a></div></td><td width="90px" class="menutitle"><div style="width:80px;" class="menuTitleDiv"><a href="tools.html" alt="List Of Tools" title="List Of Tools">Tools</a></div></td><td width="110px" align="center" class="menutitle"><div style="width:100px;" class="menuTitleDiv"><a href="peopleLabs.html" alt="List Of People and Labs" title="List Of People and Labs">People & Labs</a></div></td><td width="90px" align="center" class="menutitle"><div style="width:80px" class="menuTitleDiv"><a href="providers.html" alt="List Of Providers" title="List Of Providers">Providers</a></div></td></tr></table></td></tr></table></div>

<div id="container" class="container">
<div id="database" style="margin-top: 10px; margin-bottom:20px; margin-left: 500px; padding-left: 10px; width:455px; background: #FFFFFF; height: 20px; padding-top: 5px; padding-bottom:0px; -moz-border-top-left-radius : 3px 3px; -moz-border-bottom-left-radius : 3px 3px; border-top-left-radius : 3px 3px; border-bottom-left-radius : 3px 3px;">The database "<b>Advanced Research Project Manager</b>" has been successfully created!</div>
 <!-- 
///////////////////////////////////////////////////
//////         CREATE TABLES                 //////
///////////////////////////////////////////////////
 -->
 <div style="margin-top: 20px; margin-bottom:20px; margin-left: 0px; padding-left: 5px; width:955px; background: #DEDEDE; height: 180px; padding-top: 10px; padding-bottom:10px"><table><tr><td valign="top"><img src="images/btn_tables.png" width="45px" style="margin-right: 10px; margin-left: 10px; valign: top;"></td><td><b>TABLES AND TRIGGERS</b><br>
 Tables and triggers are very important components to get this web-app working. <b> The list of required tables and triggers  is shown below.</b></td></tr></table><br>
<b>Tables:</b> In databases, a table is a set of data elements that is organized using a model of vertical columns and horizontal rows. It is where the information entered by the user is stored. 
<i>How to create a table</i>: check the box next to the table name, and click the button <font color="#0000FF">Create Table</font>. The active button turns green when the table has been successfully created.<br>
<font color="#FF0000">Warning: If you drop (or delete) a table, all the data in that table will be erased.</font><br>
<br><b>Triggers:</b> a trigger is a special kind of stored procedure that automatically executes when an event occurs in the database server. Select all triggers and click the button "create Trigger". Make sure that all triggers have been created. <br><br>
Now, let's start using this web-app. </div>
 <table width="800px" cellspacing="0px" cellspacing="0px" border="0px" align="center">
	<tr height="20px">
	<td width="400px" valign="top" align="center"><div style="background-color:#DEDEDE; width:300px; margin-left:50px; text-align:center; padding-top: 5px; padding-bottom:5px;"><b>LIST OF TABLES</b></div></td><td width="400px" valign="top" align="center"><div style="background-color:#DEDEDE; width:300px; margin-left:50px; text-align:center; padding-top: 5px; padding-bottom:5px;"><b>LIST OF TRIGGERS</b></div></td></tr>
	<tr><td valign="top" align="center">
		<div id="container_TablesList" class="container_TablesList">
		<button id="selectAllTables">Select all</button><button id="createTable">Create Table</button><button id="dropTable">Drop Table</button><br>
		<table width="300px" cellspacing="0px" cellpadding="0px" border="0px"><tr><td width="220px"></td><td width="80px">Status</td></tr></table>
		</div>
 </td><td width="300px" valign="top" align="center">
 <div id="container_TriggersList" class="container_TriggersList">
 		<button id="selectAllTriggers">Select all</button><button id="createTrigger">Create Trigger</button><button id="dropTrigger">Drop Trigger</button><br>
		<table width="300px" cellspacing="0px" cellpadding="0px" border="0px"><tr><td width="220px"></td><td width="80px">Status</td></tr></table>
</div>
</td></tr></table></div>
<div style="z-index:400; display:none; width"></div>

</body></html>

<script>
function onError(tx, error) {
    alert(error.message);
}
//////////////////////////////////////////////////////
///////////     Tables Fields                      ///
//////////////////////////////////////////////////////
//Table: SymbolList
var SymbolList = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['symbolName', 'TEXT'], ['urlImg', 'TEXT'], ['archiveStatus', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: SampleList
var SampleList = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idProject', 'INTEGER'], ['sampleName', 'TEXT'], ['dateCreation', 'TEXT'], ['sampleInfo', 'TEXT'], ['archiveStatus', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ProjectList
var ProjectList = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['projectName', 'TEXT'], ['dateStart', 'TEXT'], ['dateEnd', 'TEXT'], ['info', 'TEXT'], ['colorCode', 'TEXT'], ['archiveStatus', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModSubstrate
var ModSubstrate = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['material', 'TEXT'], ['thickness', 'REAL'], ['details', 'TEXT'], ['batchNumber', 'TEXT'], ['size', 'REAL'], ['delStatus', 'INTEGER']];
//Table: ModSL
var ModSL = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['material', 'TEXT'], ['thickness', 'REAL'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModML
var ModML = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['material1', 'TEXT'], ['thickness1', 'REAL'], ['material2', 'TEXT'], ['thickness2', 'REAL'], ['repeat', 'INTEGER'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModStepper
var ModStepper = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModEbeamWrite
var ModEbeamWrite = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModIonMill
var ModIonMill = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['tiltAngle', 'REAL'], ['pressure', 'REAL'], ['unitPressure', 'TEXT'], ['speed', 'REAL'], ['unitSpeed', 'TEXT'], ['temperature', 'REAL'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModRIE
var ModRIE = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['pressure', 'REAL'], ['unitPressure', 'TEXT'], ['gasName', 'TEXT'], ['gasFlow', 'REAL'], ['unitGasFlow', 'TEXT'], ['idTool', 'INTEGER'], ['details', 'TEXT'], ['delStatus', 'INTEGER']];
//Table: ModMaskAlign
var ModMaskAlign = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModVSM
var ModVSM = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['Hc', 'REAL'], ['unitHc', 'TEXT'], ['errHc', 'REAL'], ['Hsat', 'REAL'], ['unitHsat', 'TEXT'], ['errHsat', 'REAL'], ['Msat', 'REAL'], ['unitMsat', 'TEXT'], ['errMsat', 'TEXT'], ['temperature', 'REAL'], ['unitTemp', 'TEXT'], ['fldDir', 'REAL'], ['unitFldDir', 'TEXT'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModSQUID
var ModSQUID = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['Hc', 'REAL'], ['unitHc', 'TEXT'], ['errHc', 'REAL'], ['Hsat', 'REAL'], ['unitHsat', 'TEXT'], ['errHsat', 'REAL'], ['Msat', 'REAL'], ['unitMsat', 'TEXT'], ['errMsat', 'TEXT'], ['temperature', 'REAL'], ['unitTemp', 'TEXT'], ['fldDir', 'REAL'], ['unitFldDir', 'TEXT'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModMOKE
var ModMOKE = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', ' INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModAFM
var ModAFM = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModMFM
var ModMFM = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModSpinCoat
var ModSpinCoat = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModAlfaStep
var ModAlfaStep = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['idTool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModTransport
var ModTransport = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['details', 'TEXT'], ['idtool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ModAnnealing
var ModAnnealing = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModLevel', 'INTEGER'], ['title', 'TEXT'], ['temperature', 'REAL'], ['duration', 'REAL'], ['unitDuration', 'TEXT'], ['details', 'TEXT'], ['idtool', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: SampleLifeLine
var SampleLifeLine = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['idSample', 'INTEGER'], ['ModTble', 'TEXT'], ['idMod', 'INTEGER'], ['ModLevel', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table: ProjectList
var ToolList = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['toolName', 'TEXT'], ['info', 'TEXT'], ['colorCode', 'TEXT'], ['archiveStatus', 'INTEGER'], ['delStatus', 'INTEGER']];
//Table : Lab
var Lab = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['name', 'TEXT'], ['institution', 'TEXT'], ['adress', 'TEXT'], ['city', 'TEXT'], ['zipCode', 'INTEGER'], ['state', 'TEXT'], ['country', 'TEXT'], ['archiveStatus', 'INTEGER'], ['delStatus', 'INTEGER']];
//Person (in use)
var Person = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['personFirstName', 'TEXT'], ['personFamilyName', 'TEXT'], ['email1', 'TEXT'], ['email2', 'TEXT'], ['telephone1', 'TEXT'], ['telephone2', 'TEXT'], ['LabAffId', 'INTEGER'], ['archiveStatus', 'INTEGER'], ['delStatus', 'INTEGER']];
//ProviderList (in use)
var ProviderList = [['id', 'INTEGER PRIMARY KEY AUTOINCREMENT'], ['nameProvider', 'TEXT'], ['website', 'TEXT'], ['archiveStatus', 'INTEGER'], ['delStatus', 'INTEGER']];
/////////////////////////////////////////////////////
//Show list of Triggers /////////////////////////////
/////////////////////////////////////////////////////
showListTriggers();
</script>